---
title: "Data Structure"
description: "Devlog Documentation"
date: 2023-03-25
---

import PageDateBar from "../../components/PageContent/PageDateBar.astro";

<PageDateBar dateString={frontmatter.date} />

This week I spent some time on how will I input my data, in what format I will store it and how will the data be retrieved.

I don't think this step is a one and done process. it will change and get refactored as I continue developing the project.

But I still think it would be beneficial to take some time to ponder about the overall picture.

## Data Format

I need the data format to be easily readable and modifiable by hand since I will be dealing with it constantly.

My plans involve web related network interactions as well, no need to reinvent the wheel, so I will format everything as [JSON](https://www.json.org/json-en.html).

## Data Seperation

In terms of usage, I will be having a set of static data that I will only read and never write. These will be : 

- Entity Base Data
- Class Base Data
- Origin Base Data
- Skill Base Data
- Equipment Base Data
- Configuration Data

I will also need a set of dynamic data that I will read and write constantly. These will be : 

- Node Simulation Data
- Node Map Data
- Team Data
- Progression Tracker
- Configuration Preferences

## Data Fetching

One of my main goals was to build a prototype environment with my data set to see the shortcomings of project structure. In order to do that I will be replicating the game data in this website with several visual components.

Since the data will have an exact replica in here, I will just create a couple static file endpoints that I can use as an API routes. 

Then I can use these endpoints to stay in sync and try out different data sets while using Unity.

- http://localhost:3000/wild-chess-simulator/api/getEntityData.json
- http://localhost:3000/wild-chess-simulator/api/getClassData.json
- http://localhost:3000/wild-chess-simulator/api/getOriginData.json
- http://localhost:3000/wild-chess-simulator/api/getSkillData.json
- http://localhost:3000/wild-chess-simulator/api/getEquipmentData.json
- http://localhost:3000/wild-chess-simulator/api/getConfigData.json

This will allow me to update the data once in that static endpoint and see the results in the website and the game simultaneously.

In the future, let's say that this game has more than 10 players, maybe a community member would like to tinker around with game data. These public endpoints will also provide them with the data they need.

## Data Structure - Entity

```typescript
import type { SkillData } from "./SkillDataStructure";
import type { TeamEffectData } from "./TeamEffectDataStructure";

export interface EntityData {
    Identifier: string;
    Origin: TeamEffectData;
    Class: TeamEffectData;
    Rarity: number;
    Health: number;
    Power: number;
    Defence: number;
    Speed: number;
    Range: number;
    Skill: SkillData
}
```

## Data Structure - Team Effect

```typescript
import type { SkillData } from "./SkillDataStructure";

export interface TeamEffectData {
    Identifier: string;
    EffectArray: EffectData[];
}
export interface EffectData {
    Size: number;
    Description: string;
    Skill: SkillData;
}
```

## Data Structure - Skill

```typescript
export interface SkillData {
    Identifier: string;
    Type: SkillType;
    CastData: CastData;
    TriggerData: TriggerData;
    OccurenceData: OccurenceData[];
}
export interface CastData {
    Point: number;
    Type: CastType;
    TargetingInput: TargetingInput;
    TargetingRange: number;
}
export interface TriggerData {
    Type: TriggerType;
}
export interface OccurenceData {
    TargetingInput: TargetingInput;
    MultiplierData: MultiplierData;
    StatisticChanges: StatisticChange[];
    StatusChanges: StatusChange[];
    SpawnChanges: SpawnChange[];
}
export interface MultiplierData {
    Type: MultiplierType;
}
export interface StatisticChange {
    TargetStat: StatisticType;
    FlatChange: number;
    PercentageStat: StatisticType;
    PercentageChange: number;
    PercentageBasedOnCaster: boolean;
}
export interface StatusChange {
    Status: SkillData;
}
export interface SpawnChange {
    Spawn: string;
}
//-----------------------
enum SkillType {
    Cast,
    Passive,
    Origin,
    Class,
    Status,
}
enum CastType {
    InstantCast,
    CastOnTargetInRange,
}
enum TriggerType {
    OnNodeStart,
    OnNodeEnd,
}
enum TargetingInput {
    Arena_Ally_Alive_LowestHealth,
    Arena_Ally_Alive_Nearest,
    Arena_Ally_Alive_Random,
    Arena_Enemy_Alive_LowestHealth,
    Arena_Enemy_Alive_Nearest,
    Arena_Enemy_Alive_Random,
    Self,
}
enum MultiplierType {
    Once,
    EntityCount,
}
enum StatisticType {
    Health,
    MaxHealth,
    Power,
    Defence,
    Speed,
}
```